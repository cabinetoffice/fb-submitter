type: object
properties:
  service:
    type: object
    description: The service details
    properties:
      id:
        type: string
      slug:
        type: string
      name:
        type: string
    required:
      - id
      - slug
      - name
  meta:
    type: object
    description: Meta properties for the submission
    properties:
      pdf_heading:
        type: string
      pdf_subheading:
        type: string
  actions:
    type: array
    description: The actions to be done on the submission
    items:
      $ref: '#/definitions/action'
  pages:
    type: array
    description: All the user answers
    items:
      $ref: '#/definitions/page'
required:
  - service
  - meta
  - actions
  - pages
additionalProperties: false
definitions:
  action:
    type: object
    description: An individual action for a submission
    properties:
      kind:
        type: string
        enum:
          - email
          - json
      to:
        type: string
      from:
        type: string
      subject:
        type: string
      email_body:
        type: string
      include_pdf:
        type: boolean
        default: true
    required:
      - to
      - from
      - include_pdf
    additionalProperties: false
  page:
    type: object
    description: The question pages of the form
    properties:
      heading:
        type: string
      answers:
        type: array
        items:
          type: object
          properties:
            field:
              type: string
            answer:
              oneOf:
                - type: string
                - type: array
                  items:
                    type: string
        required:
          - field
          - answer
      required:
        - heading
        - answers
    additionalProperties: false
